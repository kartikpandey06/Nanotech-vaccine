<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Game</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Basic game styles - no external dependencies */
        #game-container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }
Copy    #game-area {
        position: relative;
        width: 100%;
        height: 400px;
        background-color: #f0f0f0;
        border: 2px solid #ccc;
        border-radius: 8px;
        overflow: hidden;
        touch-action: none;
    }
    
    .score-display {
        text-align: center;
        margin-bottom: 1rem;
    }
    
    .score-row {
        display: flex;
        justify-content: center;
        gap: 2rem;
    }
    
    .killed-counter {
        color: #d00;
        font-weight: bold;
    }
    
    .speed-indicator {
        font-size: 0.8em;
        margin-top: 0.25rem;
    }
    
    .virus {
        position: absolute;
        width: 40px;
        height: 40px;
        margin-left: -20px;
        margin-top: -20px;
        z-index: 5;
    }
    
    .virus-body {
        width: 30px;
        height: 30px;
        background-color: #10b981;
        border-radius: 50%;
        position: relative;
        margin: 5px;
    }
    
    .virus-spike {
        position: absolute;
        width: 8px;
        height: 15px;
        background-color: #10b981;
        border-radius: 4px;
        top: 50%;
        left: 50%;
        margin-left: -4px;
        margin-top: -22px;
        transform-origin: center 15px;
    }
    
    .sperm {
        position: absolute;
        width: 40px;
        height: 40px;
        margin-left: -20px;
        margin-top: -20px;
        z-index: 10;
    }
    
    .sperm-head {
        width: 24px;
        height: 24px;
        background-color: #60a5fa;
        border-radius: 50%;
        position: absolute;
        top: 8px;
        left: 8px;
    }
    
    .sperm-tail {
        width: 8px;
        height: 30px;
        background-color: #60a5fa;
        border-radius: 4px;
        position: absolute;
        top: 10px;
        left: 18px;
        transform: rotate(30deg);
    }
    
    .instruction {
        position: absolute;
        top: 8px;
        left: 8px;
        font-size: 0.8em;
        color: #4b5563;
        background-color: rgba(255, 255, 255, 0.7);
        padding: 4px 8px;
        border-radius: 4px;
        z-index: 20;
    }
    
    .virus-counter {
        position: absolute;
        top: 8px;
        right: 8px;
        font-size: 0.8em;
        font-weight: bold;
        color: #047857;
        background-color: rgba(255, 255, 255, 0.7);
        padding: 4px 8px;
        border-radius: 4px;
        z-index: 20;
    }
    
    .game-over {
        display: none;
        text-align: center;
        margin-top: 1rem;
    }
    
    .game-over-text {
        font-size: 1.2em;
        font-weight: bold;
        color: #d00;
    }
    
    .play-again {
        margin-top: 0.5rem;
        padding: 8px 16px;
        background-color: #3b82f6;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
    }
    
    .play-again:hover {
        background-color: #2563eb;
    }
    
    .mobile-notice {
        text-align: center;
        font-size: 0.8em;
        color: #4b5563;
        margin-top: 1rem;
        max-width: 320px;
        margin-left: auto;
        margin-right: auto;
    }
    
    @media (max-width: 600px) {
        #game-area {
            height: 60vh;
        }
    }
</style>
</head>
<body>
    <header>
        <h1>Game</h1>
        <nav>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="content.html">Content</a></li>
                <li><a href="about-us.html">About Us</a></li>
                <li><a href="game.html">Game</a></li>
                <li><a href="media.html">Media</a></li>
            </ul>
        </nav>
    </header>
Copy<main>
    <section>
        <h2>Play Our Virus Game</h2>
        <div id="game-container">
            <div class="score-display">
                <div class="score-row">
                    <div>Score: <span id="score">0</span></div>
                    <div class="killed-counter">Viruses Killed: <span id="viruses-killed">0</span></div>
                </div>
                <div class="speed-indicator">Speed Level: <span id="speed-level">1</span></div>
            </div>
            
            <div id="game-area">
                <div id="sperm" class="sperm">
                    <div class="sperm-head"></div>
                    <div class="sperm-tail"></div>
                </div>
                
                <div class="instruction">
                    Move your cursor to control the blue sperm. Try to catch all the viruses!
                </div>
                
                <div class="virus-counter">
                    Active Viruses: <span id="active-viruses">1</span>
                </div>
            </div>
            
            <div id="game-over" class="game-over">
                <div class="game-over-text">Game Over!</div>
                <div>You've killed all the viruses!</div>
                <button id="play-again" class="play-again">Play Again</button>
            </div>
            
            <div class="mobile-notice">
                Tap and drag in the game area to catch viruses. Speed increases every 200 points!
            </div>
        </div>
    </section>
</main>

<footer>
    <p>&copy; 2025 Nanotech Vaccine Research</p>
</footer>

<!-- Vanilla JavaScript implementation - no dependencies -->
<script>
    // Wait for DOM to be loaded
    document.addEventListener('DOMContentLoaded', function() {
        // Game elements
        const gameArea = document.getElementById('game-area');
        const spermElement = document.getElementById('sperm');
        const scoreDisplay = document.getElementById('score');
        const virusesKilledDisplay = document.getElementById('viruses-killed');
        const speedLevelDisplay = document.getElementById('speed-level');
        const activeVirusesDisplay = document.getElementById('active-viruses');
        const gameOverDisplay = document.getElementById('game-over');
        const playAgainButton = document.getElementById('play-again');
        const instruction = document.querySelector('.instruction');
        
        // Game state
        let gameActive = true;
        let score = 0;
        let virusesKilled = 0;
        let baseSpeed = 0.5;
        let lastTimestamp = 0;
        let animationFrameId = null;
        
        // Detect mobile
        const isMobile = window.matchMedia('(pointer: coarse)').matches;
        if (isMobile) {
            instruction.textContent = "Touch and drag to control the blue sperm. Catch the green viruses!";
        }
        
        // Sperm position
        let spermPos = { x: 100, y: 100 };
        
        // Viruses array
        let viruses = [{
            id: Date.now(),
            element: createVirusElement(Date.now()),
            pos: { x: 300, y: 300 },
            direction: { dx: 1, dy: 1 }
        }];
        
        // Initialize the game
        function init() {
            // Set initial positions
            updateSpermPosition(spermPos.x, spermPos.y);
            
            // Add event listeners
            gameArea.addEventListener('mousemove', handleMouseMove);
            gameArea.addEventListener('touchmove', handleTouchMove, { passive: false });
            gameArea.addEventListener('touchstart', handleTouchMove, { passive: false });
            playAgainButton.addEventListener('click', resetGame);
            
            // Start game loop
            startGameLoop();
        }
        
        // Create virus element
        function createVirusElement(id) {
            const virus = document.createElement('div');
            virus.className = 'virus';
            virus.id = 'virus-' + id;
            
            const virusBody = document.createElement('div');
            virusBody.className = 'virus-body';
            virus.appendChild(virusBody);
            
            // Create 8 spikes around the virus
            for (let i = 0; i < 8; i++) {
                const spike = document.createElement('div');
                spike.className = 'virus-spike';
                spike.style.transform = `rotate(${i * 45}deg)`;
                virusBody.appendChild(spike);
            }
            
            gameArea.appendChild(virus);
            return virus;
        }
        
        // Handle mouse movement
        function handleMouseMove(e) {
            if (!gameActive) return;
            
            const rect = gameArea.getBoundingClientRect();
            updateSpermPosition(
                e.clientX - rect.left,
                e.clientY - rect.top
            );
        }
        
        // Handle touch movement
        function handleTouchMove(e) {
            if (!gameActive || !e.touches || !e.touches[0]) return;
            
            e.preventDefault(); // Prevent scrolling
            const rect = gameArea.getBoundingClientRect();
            updateSpermPosition(
                e.touches[0].clientX - rect.left,
                e.touches[0].clientY - rect.top
            );
        }
        
        // Update sperm position
        function updateSpermPosition(x, y) {
            // Keep within bounds
            const maxX = gameArea.clientWidth;
            const maxY = gameArea.clientHeight;
            
            x = Math.max(0, Math.min(x, maxX));
            y = Math.max(0, Math.min(y, maxY));
            
            spermPos.x = x;
            spermPos.y = y;
            
            // Update visual position
            spermElement.style.left = x + 'px';
            spermElement.style.top = y + 'px';
        }
        
        // Add a new virus
        function addNewVirus() {
            const gameWidth = gameArea.clientWidth;
            const gameHeight = gameArea.clientHeight;
            
            // Create a new virus at a random position away from sperm
            let x, y;
            do {
                x = Math.random() * (gameWidth - 40) + 20;
                y = Math.random() * (gameHeight - 40) + 20;
            } while (
                Math.sqrt(Math.pow(x - spermPos.x, 2) + Math.pow(y - spermPos.y, 2)) < 100
            );
            
            const id = Date.now();
            const newVirus = {
                id: id,
                element: createVirusElement(id),
                pos: { x, y },
                direction: {
                    dx: (Math.random() - 0.5) * 2,
                    dy: (Math.random() - 0.5) * 2
                }
            };
            
            // Add to viruses array
            viruses.push(newVirus);
            
            // Update virus count display
            activeVirusesDisplay.textContent = viruses.length;
        }
        
        // Move all viruses
        function moveViruses(deltaTime) {
            const gameWidth = gameArea.clientWidth;
            const gameHeight = gameArea.clientHeight;
            
            viruses.forEach(virus => {
                const { pos, direction } = virus;
                
                // Use current direction with occasional changes
                const speed = baseSpeed * (1 + Math.random() * 0.2);
                
                // Small chance to change direction
                if (Math.random() < 0.01) {
                    direction.dx = (Math.random() - 0.5) * 2;
                    direction.dy = (Math.random() - 0.5) * 2;
                }
                
                // Calculate new position
                let newX = pos.x + direction.dx * speed * deltaTime;
                let newY = pos.y + direction.dy * speed * deltaTime;
                
                // Bounce off walls
                if (newX < 20 || newX > gameWidth - 20) {
                    direction.dx = -direction.dx;
                    newX = newX < 20 ? 20 : gameWidth - 20;
                }
                
                if (newY < 20 || newY > gameHeight - 20) {
                    direction.dy = -direction.dy;
                    newY = newY < 20 ? 20 : gameHeight - 20;
                }
                
                // Update position
                pos.x = newX;
                pos.y = newY;
                
                // Update visual position
                virus.element.style.left = newX + 'px';
                virus.element.style.top = newY + 'px';
            });
        }
        
        // Check for collision between sperm and any virus
        function checkCollision() {
            let collision = false;
            let virusToRemove = null;
            
            for (const virus of viruses) {
                const dx = spermPos.x - virus.pos.x;
                const dy = spermPos.y - virus.pos.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                // Combined radius of sperm and virus
                const collisionThreshold = 20;
                
                if (distance < collisionThreshold) {
                    collision = true;
                    virusToRemove = virus;
                    break;
                }
            }
            
            if (collision && virusToRemove) {
                // Remove virus from the DOM
                gameArea.removeChild(virusToRemove.element);
                
                // Remove from viruses array
                viruses = viruses.filter(v => v.id !== virusToRemove.id);
                
                // Update counters
                virusesKilled++;
                virusesKilledDisplay.textContent = virusesKilled;
                activeVirusesDisplay.textContent = viruses.length;
                
                // Check if all viruses are killed
                if (viruses.length === 0) {
                    endGame();
                    return;
                }
                
                // Add a replacement virus after delay
                setTimeout(() => {
                    if (gameActive) {
                        addNewVirus();
                    }
                }, 1000);
            }
        }
        
        // Game loop
        function gameLoop(timestamp) {
            if (!lastTimestamp) lastTimestamp = timestamp;
            const deltaTime = timestamp - lastTimestamp;
            lastTimestamp = timestamp;
            
            if (!gameActive) return;
            
            // Move viruses
            moveViruses(deltaTime);
            
            // Check collision
            checkCollision();
            
            // Update score
            score++;
            scoreDisplay.textContent = score;
            
            // Add new virus every 200 points
            if (Math.floor(score / 200) > Math.floor((score - 1) / 200)) {
                addNewVirus();
                
                // Increase speed every 200 points (up to a limit)
                if (baseSpeed < 1.5) {
                    baseSpeed += 0.1;
                    speedLevelDisplay.textContent = Math.round((baseSpeed - 0.5) * 10) + 1;
                }
            }
            
            // Continue game loop
            animationFrameId = requestAnimationFrame(gameLoop);
        }
        
        // Start game loop
        function startGameLoop() {
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
            }
            animationFrameId = requestAnimationFrame(gameLoop);
        }
        
        // End game
        function endGame() {
            gameActive = false;
            gameOverDisplay.style.display = 'block';
            
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
                animationFrameId = null;
            }
        }
        
        // Reset game
        function resetGame() {
            // Clear all viruses
            viruses.forEach(virus => {
                if (virus.element && virus.element.parentNode) {
                    gameArea.removeChild(virus.element);
                }
            });
            
            // Reset game state
            gameActive = true;
            score = 0;
            virusesKilled = 0;
            baseSpeed = 0.5;
            lastTimestamp = 0;
            
            // Reset display
            scoreDisplay.textContent = score;
            virusesKilledDisplay.textContent = virusesKilled;
            speedLevelDisplay.textContent = 1;
            gameOverDisplay.style.display = 'none';
            
            // Add initial virus
            const gameWidth = gameArea.clientWidth;
            const gameHeight = gameArea.clientHeight;
            
            const initialX = Math.random() * (gameWidth - 40) + 20;
            const initialY = Math.random() * (gameHeight - 40) + 20;
            
            const id = Date.now();
            viruses = [{
                id: id,
                element: createVirusElement(id),
                pos: { x: initialX, y: initialY },
                direction: { dx: 1, dy: 1 }
            }];
            
            activeVirusesDisplay.textContent = 1;
            
            // Start game loop
            startGameLoop();
        }
        
        // Initialize game when DOM is loaded
        init();
    });
</script>
</body>
</html>
